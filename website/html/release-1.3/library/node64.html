<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.1p1 release (March 2nd, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Relation closures</TITLE>
<META NAME="description" CONTENT="Relation closures">
<META NAME="keywords" CONTENT="library">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="library.css">
<LINK REL="previous" HREF="node63.html">
<LINK REL="up" HREF="node62.html">
<LINK REL="next" HREF="node65.html">
</HEAD>
<BODY >
<!--Navigation Panel-->
<A NAME="tex2html904"
 HREF="node65.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html901"
 HREF="node62.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html897"
 HREF="node63.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html903"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html905"
 HREF="node65.html">Set theory</A>
<B> Up:</B> <A NAME="tex2html902"
 HREF="node62.html">Relations</A>
<B> Previous:</B> <A NAME="tex2html898"
 HREF="node63.html">Definitions</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000172000000000000000">
Relation closures</A>
</H2>

<P>
<TT>relclosure.l</TT> considers closure operators, concretely as
monotone operators on the algebra of relations and predicates. The
treatment follows Cohn, Universal Algebra, and was started by Rod and
Savi, and put in this form by me. We have intersection closed families
of relations, and pre-fixed and post-fixed points as special cases
(although I think the language of today has these concepts the other
way round: maybe I was just confused!), greatest and least such by
intersection closure, proof that they are fixed points. For finitary
operators, we also have Scott-Tarski: the least fixed point is reached
in <IMG
 WIDTH="17" HEIGHT="17" ALIGN="BOTTOM" BORDER="0"
 SRC="img15.gif"
 ALT="$\omega$">
many steps. The notion of finiteness here is given itself
inductively as (the closure of) an intersection closed family. In this
case we take the Kuratowski-Sierpinski definition of finite subset
(generated by: empty subset, singleton and binary union), others
should work too (but be careful, as we are working
intuitionistically!). Joint fixed points, considered first by Andrews,
which require commuting operators, are also discussed, and their
extension to commuting families of operators. These are then
illustrated, briefly, by showing that the reflexivity, symmetry and
transitivity operators commute. By way of illustration, this allows us
to compute the equivalence (reflexive-symmetric-transitive) closure of
a relation <I>R</I> as the (transitive closure of the (symmetric closure of
the (reflexive closure of <I>R</I>))), although this is not shown in full.

<P>
<PRE>
 ** Module lib_rel_closure Imports lib_more_induction lib_rel lib_nat_Le
  intersectionRel = ... : {s|Type}{t|Type}(Pred (Rel s t))-&gt;Rel s t
  unionRel = ... : {s|Type}{t|Type}(Pred (Rel s t))-&gt;Rel s t
  intersectionPred = ... : {s|Type}(Pred (Pred s))-&gt;Pred s
  unionPred = ... : {s|Type}(Pred (Pred s))-&gt;Pred s
  intersectionRelI = ... :
    {s|Type}{t|Type}{F|Pred (Rel s t)}{R:Rel s t}
    ({S:Rel s t}(F S)-&gt;SubRel R S)-&gt;SubRel R (intersectionRel F)
  intersectionRelE = ... :
    {s|Type}{t|Type}{F|Pred (Rel s t)}{R:Rel s t}(F R)-&gt;
    SubRel (intersectionRel F) R
  unionRelI = ... :
    {s|Type}{t|Type}{F|Pred (Rel s t)}{R:Rel s t}(F R)-&gt;
    SubRel R (unionRel F)
  unionRelE = ... :
    {s|Type}{t|Type}{F|Pred (Rel s t)}{R:Rel s t}
    ({S:Rel s t}(F S)-&gt;SubRel S R)-&gt;SubRel (unionRel F) R
  intersectionPredI = ... :
    {s|Type}{G|Pred (Pred s)}{P:Pred s}({Q:Pred s}(G Q)-&gt;SubPred P Q)-&gt;
    SubPred P (intersectionPred G)
  intersectionPredE = ... :
    {s|Type}{G|Pred (Pred s)}{P:Pred s}(G P)-&gt;
    SubPred (intersectionPred G) P
  unionPredI = ... :
    {s|Type}{G|Pred (Pred s)}{P:Pred s}(G P)-&gt;SubPred P (unionPred G)
  unionPredE = ... :
    {s|Type}{G|Pred (Pred s)}{P:Pred s}({Q:Pred s}(G Q)-&gt;SubPred Q P)-&gt;
    SubPred (unionPred G) P
  intReversesSubRel = ... :
    {s|Type}{t|Type}{E,F|Pred (Rel s t)}(SubPred E F)-&gt;
    SubRel (intersectionRel F) (intersectionRel E)
  unionPreservesSubRel = ... :
    {s|Type}{t|Type}{E,F|Pred (Rel s t)}(SubPred E F)-&gt;
    SubRel (unionRel E) (unionRel F)
  intReversesSubPred = ... :
    {s|Type}{G,H|Pred (Pred s)}(SubPred G H)-&gt;
    SubPred (intersectionPred H) (intersectionPred G)
  unionPreservesSubPred = ... :
    {s|Type}{G,H|Pred (Pred s)}(SubPred G H)-&gt;
    SubPred (unionPred G) (unionPred H)
  IntersectionClosed = ... : {s|Type}{t|Type}(Pred (Rel s t))-&gt;Prop
  UnionClosed = ... : {s|Type}{t|Type}(Pred (Rel s t))-&gt;Prop
  intFhasF = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}(IntersectionClosed F)-&gt;
    F (intersectionRel F)
  unionFhasF = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}(UnionClosed F)-&gt;F (unionRel F)
  iclAnd = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}(IntersectionClosed F)-&gt;
    {G:Pred (Rel s t)}(IntersectionClosed G)-&gt;
    IntersectionClosed (andPred F G)
  uclAnd = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}(UnionClosed F)-&gt;
    {G:Pred (Rel s t)}(UnionClosed G)-&gt;UnionClosed (andPred F G)
  iclRefl = ... : {s|Type}IntersectionClosed (refl|s)
  iclSym = ... : {s|Type}IntersectionClosed (sym|s)
  iclTrans = ... : {s|Type}IntersectionClosed (trans|s)
  iclPreorder = ... : {s|Type}IntersectionClosed (preorder|s)
  iclPer = ... : {s|Type}IntersectionClosed (per|s)
  iclEquiv = ... : {s|Type}IntersectionClosed (equiv|s)
  uclSym = ... : {s|Type}UnionClosed (sym|s)
  closure = ... : {s|Type}{t|Type}(Pred (Rel s t))-&gt;(Rel s t)-&gt;Rel s t
  iclSubRelR = ... :
    {s|Type}{t|Type}{R|Rel s t}IntersectionClosed (SubRel R)
  Rbounds = ... : {s|Type}{t|Type}(Rel s t)-&gt;(Rel s t)-&gt;Prop
  uclRbounds = ... :
    {s|Type}{t|Type}{R|Rel s t}UnionClosed (Rbounds|s|t|R)
  closureInc = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}{R|Rel s t}SubRel R (closure F R)
  closureI = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}(IntersectionClosed F)-&gt;
    {R|Rel s t}F (closure F R)
  closureE = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}{R,S|Rel s t}(F S)-&gt;(SubRel R S)-&gt;
    SubRel (closure F R) S
  closureEderived = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}{R,S|Rel s t}
    (F (andRel (closure F R) S))-&gt;(SubRel R S)-&gt;SubRel (closure F R) S
  PreFix = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;(Rel s t)-&gt;Prop
  PostFix = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;(Rel s t)-&gt;Prop
  Fix = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;(Rel s t)-&gt;Prop
  Increasing = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;Prop
  Idempotent = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;Prop
  Monotone = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;Prop
  Closure = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;Prop
  pfp0 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}PreFix phi (emptyRel|s|t)
  pfp1 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}PostFix phi (univRel|s|t)
  iclPostFix = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    IntersectionClosed (PostFix phi)
  uclPreFix = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    UnionClosed (PreFix phi)
  closureClosure = ... :
    {s|Type}{t|Type}{F:Pred (Rel s t)}(IntersectionClosed F)-&gt;
    Closure (closure F)
  leastFixPoint = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;Rel s t
  lfplemma = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    Fix phi (leastFixPoint phi)
  phipower = ... :
    {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;nat-&gt;(Rel s t)-&gt;Rel s t
  phipower0 = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;nat-&gt;Rel s t
  phipower1 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;{R|Rel s t}
    {k|nat}(PreFix phi R)-&gt;PreFix phi (phipower phi k R)
  phipower2 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;{m|nat}
    PreFix phi (phipower0 phi m)
  phipower3 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;{m,k|nat}
    SubRel (phipower0 phi m) (phipower0 phi (plus k m))
  phipower4 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;{m,k|nat}
    SubRel (phipower phi k (phipower0 phi m)) (phipower0 phi (plus k m))
  phipowersincrease = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;{m,n|nat}
    (Le m n)-&gt;SubRel (phipower0 phi m) (phipower0 phi n)
  leastPreFixPoint = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;Rel s t
  lpfplemma1 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}{n|nat}
    SubRel (phipower0 phi n) (leastPreFixPoint phi)
  lpfplemma = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    PreFix phi (leastPreFixPoint phi)
  lfplemma1 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;{n|nat}
    SubRel (phipower0 phi n) (leastFixPoint phi)
  ScottTarski1 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    SubRel (leastPreFixPoint phi) (leastFixPoint phi)
  singletonPred = ... : {s|Type}s-&gt;Pred s
  singletonRel = ... : {s|Type}{t|Type}s-&gt;t-&gt;Rel s t
  finitePred = ... : {s|Type}Pred (Pred s)
  finiteRel = ... : {s|Type}{t|Type}Pred (Rel s t)
  finitephipowersbound = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;{Xf|Rel s t}
    (finiteRel Xf)-&gt;(SubRel Xf (leastPreFixPoint phi))-&gt;
    Ex ([n:nat]SubRel Xf (phipower0 phi n))
  Algebraic = ... : {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;Prop
  ScottTarski2 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    (Algebraic phi)-&gt;SubRel (leastFixPoint phi) (leastPreFixPoint phi)
  ScottTarski = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    (Algebraic phi)-&gt;Fix phi (leastPreFixPoint phi)
  F2 = ... :
    {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;((Rel s t)-&gt;Rel s t)-&gt;
    Pred (Rel s t)
  icl2 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    {psi:(Rel s t)-&gt;Rel s t}(Monotone psi)-&gt;
    IntersectionClosed (F2 phi psi)
  int2 = ... :
    {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;((Rel s t)-&gt;Rel s t)-&gt;Rel s t
  jointpostfixpoint2 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    {psi:(Rel s t)-&gt;Rel s t}(Monotone psi)-&gt;
    (PostFix phi (int2 phi psi) /\ PostFix psi (int2 phi psi))
  Commphipsi = ... :
    {s|Type}{t|Type}((Rel s t)-&gt;Rel s t)-&gt;((Rel s t)-&gt;Rel s t)-&gt;
    (Rel s t)-&gt;Prop
  jointprefixpoint2 = ... :
    {s|Type}{t|Type}{phi:(Rel s t)-&gt;Rel s t}(Monotone phi)-&gt;
    {psi:(Rel s t)-&gt;Rel s t}(Monotone psi)-&gt;
    (Commphipsi phi psi (int2 phi psi))-&gt;
    (PreFix phi (int2 phi psi) /\ PreFix psi (int2 phi psi))
  Ffamily = ... :
    {s|Type}{t|Type}{u|Type}(u-&gt;(Rel s t)-&gt;Rel s t)-&gt;(Rel s t)-&gt;Prop
  iclfamily = ... :
    {s|Type}{t|Type}{u|Type}{phifamily:u-&gt;(Rel s t)-&gt;Rel s t}
    ({z:u}Monotone (phifamily z))-&gt;
    IntersectionClosed (Ffamily phifamily)
  intfamily = ... :
    {s|Type}{t|Type}{u|Type}(u-&gt;(Rel s t)-&gt;Rel s t)-&gt;Rel s t
  jointpostfixpoint = ... :
    {s|Type}{t|Type}{u|Type}{phifamily:u-&gt;(Rel s t)-&gt;Rel s t}
    ({z:u}Monotone (phifamily z))-&gt;{z:u}
    PostFix (phifamily z) (intfamily phifamily)
  Commfamily = ... :
    {s|Type}{t|Type}{u|Type}(u-&gt;(Rel s t)-&gt;Rel s t)-&gt;(Rel s t)-&gt;Prop
  jointprefixpoint = ... :
    {s|Type}{t|Type}{u|Type}{phifamily:u-&gt;(Rel s t)-&gt;Rel s t}
    ({z:u}Monotone (phifamily z))-&gt;
    (Commfamily phifamily (intfamily phifamily))-&gt;{z:u}
    PreFix (phifamily z) (intfamily phifamily)
  reflop = ... : {s|Type}(Rel s s)-&gt;s-&gt;s-&gt;Prop
  symop = ... : {s|Type}(Rel s s)-&gt;Rel s s
  transop = ... : {s|Type}(Rel s s)-&gt;Rel s s
  reflopMono = ... : {s|Type}Monotone (reflop|s)
  symopMono = ... : {s|Type}Monotone (symop|s)
  transopMono = ... : {s|Type}Monotone (transop|s)
  commreflsym = ... :
    {s|Type}{R:Rel s s}Commphipsi (reflop|s) (symop|s) R
  commsymtrans = ... :
    {s|Type}{R:Rel s s}Commphipsi (symop|s) (transop|s) R
  commtransrefl = ... :
    {s|Type}{R:Rel s s}Commphipsi (transop|s) (reflop|s) R
  Refl = ... : {s|Type}(Rel s s)-&gt;Prop
  Sym = ... : {s|Type}(Rel s s)-&gt;Prop
  Trans = ... : {s|Type}(Rel s s)-&gt;Prop
</PRE>
<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html904"
 HREF="node65.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html901"
 HREF="node62.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html897"
 HREF="node63.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html903"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html905"
 HREF="node65.html">Set theory</A>
<B> Up:</B> <A NAME="tex2html902"
 HREF="node62.html">Relations</A>
<B> Previous:</B> <A NAME="tex2html898"
 HREF="node63.html">Definitions</A>
<!--End of Navigation Panel-->
<ADDRESS>
<I>Lego</I>
<BR><I>1998-06-15</I>
</ADDRESS>
</BODY>
</HTML>
